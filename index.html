<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Ejemplo ScrollMagic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!--<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap"
          rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
          rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Simonetta&display=swap"
          rel="stylesheet" />

    <link rel="stylesheet" href="./resources/css/style.css" />
    <link rel="stylesheet" href="./resources/css/animaciones.css" />
    <link rel="stylesheet" href="./resources/css/carrusel.css" />-->

    <!--<script async="" src="//www.google-analytics.com/analytics.js"></script>-->
    <script type="text/javascript" src="ScrollMagic/assets/js/lib/jquery.min.js"></script>
    <script type="text/javascript" src="ScrollMagic/assets/js/lib/greensock/TweenMax.min.js"></script>
    <script type="text/javascript" src="ScrollMagic/scrollmagic/uncompressed/ScrollMagic.js"></script>
    <script type="text/javascript" src="ScrollMagic/assets/js/lib/velocity.min.js"></script>
    <script type="text/javascript" src="ScrollMagic/scrollmagic/uncompressed/plugins/animation.velocity.js"></script>
    <script type="text/javascript" src="ScrollMagic/scrollmagic/uncompressed/plugins/animation.gsap.js"></script>
    <script type="text/javascript" src="ScrollMagic/scrollmagic/uncompressed/plugins/debug.addIndicators.js"></script>

</head>
<body>
    <div style="height:800px; border: 1px solid red;"></div>
    <div id="trigger">trigger</div>
    <div style="height:200px; border: 1px solid red;"></div>
    <div id="animate" style="border-radius: 5px;background-color: red; text-align:center; width: 100px; height: 50px;">
        <a>TEST</a>
    </div>
    <div id="test" style="height:800px; border: 1px solid red;"></div>

    <script>
        // init controller
        var controller = new ScrollMagic.Controller();

        // build scene
        var scene = new ScrollMagic.Scene({ triggerElement: "#trigger" })
            // trigger a velocity opaticy animation
            .setVelocity("#animate", { opacity: 0 }, { duration: 400 })
            .addIndicators() // add indicators (requires plugin)
            .addTo(controller);
    </script>

    <div style="height:800px; border: 1px solid red;"></div>
    <div id="trigger2">trigger2</div>

    <div id="animate2" style="height:550px;">
        <svg width="100" height="100" viewBox="0 0 20 20" style="border: 2px solid blue;">
            <path style="fill:none;stroke:#000000;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="M 14.967093,17.436073 C 33.031684,18.486522 63.6269,13.188158 66.071142,36.449886 67.705905,52.007845 82.367438,67.168391 76.402809,81.469435 69.329282,98.429218 68.279497,61.88048 75.904544,76.502637 87.4454,98.633938 50.515402,107.49714 55.324792,122.74026 c 5.833204,18.48805 31.567903,16.4374 40.892238,31.00327 5.40676,8.44609 -7.060615,7.54985 -12.02713,7.48355"
                  id="dibujo"
                  inkscape:connector-curvature="0"
                  inkscape:path-effect="#path-effect824"
                  inkscape:original-d="m 14.967093,17.436073 c 5.327174,1.522694 12.107621,-1.197243 17.105251,0.801809 1.971273,0.788509 5.831541,0 8.018084,0 1.441291,0 3.292883,0.146188 4.276312,0.801808 1.073568,0.715712 3.647895,-0.31421 4.810853,0.26727 1.970569,0.985285 3.624834,1.946051 5.612659,2.939964 0.67618,0.33809 1.615236,0.278888 2.138156,0.801809 5.774476,5.774475 8.52152,10.864735 11.225321,18.976135 0.296151,0.888453 -0.509103,2.71085 0,3.474506 1.394267,2.091402 0.204441,8.1597 1.069078,9.888971 1.411113,2.822223 2.437821,6.195793 4.543581,9.354434 0.525037,0.787551 0.555281,1.901997 1.069078,2.672696 0.284131,0.426194 -0.229912,1.41106 0,1.870885 0.599496,1.198988 1.069078,2.39944 1.069078,4.009043 0,0.488731 -0.252658,2.026439 0,2.405428 0.550995,0.826489 0.53454,-0.08845 0.53454,1.069078 0,3.169994 0.437807,6.5112 -1.603618,8.552624 -0.349496,0.349496 -0.305041,1.221597 -1.069078,1.603616 -3.509592,1.754799 -10.757072,-5.279096 -6.414468,-9.621702 2.076505,-2.076506 7.277642,-2.559855 8.552624,-1.603616 0.356359,0.267269 0.44545,1.336347 0,1.336347 -0.178178,0 -0.07968,-0.69391 0,-0.534541 0.164275,0.328549 0.206883,0.70675 0.267272,1.069078 0.257479,1.544887 0.285803,1.64069 1.069078,3.207235 0.881467,1.762937 0.436115,11.351736 0,13.096208 -0.898396,3.593578 -7.026942,13.936982 -10.690783,15.768902 -1.274088,0.63704 -5.192544,3.20723 -6.414469,3.20723 -0.381569,0 -1.118499,-0.16842 -1.336347,0.26727 -0.585679,1.17136 -1.419071,2.03634 -2.138156,3.47451 -0.166671,0.33334 0.205327,1.02835 0,1.33635 -0.939077,1.40861 -1.336347,3.04728 -1.336347,4.81084 0,2.8457 2.492431,5.69967 4.276313,7.48355 0.280005,0.28001 0.331734,1.13355 0.534537,1.33635 2.545342,2.54534 5.589307,4.6597 8.285356,6.68174 0.648173,0.48613 1.7658,0.48199 2.405427,0.80181 1.927543,0.96377 3.6897,2.86568 5.879928,3.74177 0.413589,0.16544 0.904198,-0.10804 1.336347,0 1.471578,0.36789 3.657256,1.8075 4.810853,2.6727 0.309742,0.2323 4.000124,1.42246 4.543581,1.60361 1.227402,0.40914 8.020433,5.88228 8.819896,6.68174 0.895913,0.89591 1.069078,2.22629 1.069078,3.4745 0,0.44091 0.224366,1.53434 0,1.87089 -1.656967,2.48545 -9.819614,2.13816 -13.096208,2.13816" />
            <path style="fill:none;stroke:#000000;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="m 70.926651,82.683246 c 0.595693,-0.544091 1.562946,-1.103108 2.315528,-0.571615 0.913997,0.645488 1.132676,1.898989 1.158977,2.943632"
                  id="dibujo2"
                  inkscape:connector-curvature="0"
                  inkscape:path-effect="#path-effect828"
                  inkscape:original-d="m 70.926651,82.683246 c 2.321777,-2.023653 3.474505,0.344383 3.474505,2.372017"
                  sodipodi:nodetypes="cc" />
            <path style="opacity:1;fill:#000000;fill-opacity:0;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:2.02348658, 4.04697316;stroke-dashoffset:0;stroke-opacity:1"
          d="m 274.2106,323.55457 c -2.80693,-1.26849 -2.9676,-2.77823 -3.9487,-5.34721 -1.72409,-4.51446 -1.5941,-5.60116 0.23746,-6.94043 4.23345,-3.09557 9.46383,-0.24022 9.46383,5.9978 0,1.70328 -0.27622,0.82403 0.31215,0.82403 1.4209,0 0.52114,7.7082 -1.53092,5.21221 -2.19376,1.95483 -4.7865,2.96546 -4.53382,0.2536 z"
          id="dibujo3"
          inkscape:connector-curvature="0"
          transform="scale(0.26458333)"
          sodipodi:nodetypes="ccsssccc" />
    <path style="fill:none;stroke:#000000;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
          d="m 55.792513,123.74252 c 3.948387,-2.32493 9.936938,-3.04197 13.880452,-0.21603 5.320223,3.8125 8.004204,10.0567 12.196188,14.88156 1.758928,2.02448 4.557165,3.75551 4.659355,6.71604"
          id="dibujo4"
          inkscape:connector-curvature="0"
          inkscape:path-effect="#path-effect834"
          inkscape:original-d="m 55.792513,123.74252 c 1.893398,-1.58737 3.954004,-1.80406 6.481285,-1.80406 1.137714,0 3.802383,-0.50424 4.810853,0 5.69513,2.84756 10.288294,9.39634 13.630746,14.96709 1.662345,2.77058 5.813111,4.89546 5.813111,8.21854"
          sodipodi:nodetypes="csccc" />
    <path style="fill:none;stroke:#000000;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
          d="m 75.637275,130.49108 c -0.989958,2.0592 -3.429016,2.73998 -5.435948,3.38765 -1.893992,0.61122 -3.905671,0.81159 -5.789373,1.4232"
          id="dibujo5"
          inkscape:connector-curvature="0"
          inkscape:path-effect="#path-effect838"
          inkscape:original-d="m 75.637275,130.49108 c -1.299363,3.46284 -10.748713,4.33425 -11.225321,4.81085"
          transform="matrix(0.86463396,-0.14048383,0,0.92068688,10.252659,20.119663)" />

        </svg>
    </div>
    <div id="test" style="height:800px; border: 1px solid red;"></div>

    <script>
        function pathPrepare($el) {
            var lineLength = $el[0].getTotalLength();
            $el.css("stroke-dasharray", lineLength);
            $el.css("stroke-dashoffset", lineLength);
        }

        var $dibujo = $("path#dibujo");
        var $dibujo2 = $("path#dibujo2");
        var $dibujo3 = $("path#dibujo3");
        var $dibujo4 = $("path#dibujo4");
        var $dibujo5 = $("path#dibujo5");

        // prepare SVG
        pathPrepare($dibujo);
        pathPrepare($dibujo2);
        pathPrepare($dibujo3);
        pathPrepare($dibujo4);
        pathPrepare($dibujo5);

        // init controller
        var controller = new ScrollMagic.Controller();

        // build tween
        var tween = new TimelineMax()
            .add(TweenMax.to($dibujo, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            //.add(TweenMax.to("path", 0.9, { stroke: "green", ease: Linear.easeNone }), 0);			// change color during the whole thing
            .add(TweenMax.to($dibujo, 0.9, { stroke: "green", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene = new ScrollMagic.Scene({ triggerElement: "#trigger2", duration: 550, tweenChanges: true })
            .setTween(tween)
            .addIndicators() // add indicators (requires plugin)
            .addTo(controller);

        var tween2 = new TimelineMax()
            .add(TweenMax.to($dibujo2, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            .add(TweenMax.to($dibujo2, 0.9, { stroke: "red", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene2 = new ScrollMagic.Scene({ triggerElement: "#trigger2", duration: 550, tweenChanges: true })
            .setTween(tween2)
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller);

        var tween3 = new TimelineMax()
            .add(TweenMax.to($dibujo3, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            .add(TweenMax.to($dibujo3, 0.9, { stroke: "red", fill: "red", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene3 = new ScrollMagic.Scene({ triggerElement: "#trigger2", duration: 550, tweenChanges: true })
            .setTween(tween3)
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller);

        var tween4 = new TimelineMax()
            .add(TweenMax.to($dibujo4, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            .add(TweenMax.to($dibujo4, 0.9, { stroke: "blue", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene4 = new ScrollMagic.Scene({ triggerElement: "#trigger2", duration: 550, tweenChanges: true })
            .setTween(tween4)
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller);

        var tween5 = new TimelineMax()
            .add(TweenMax.to($dibujo5, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            .add(TweenMax.to($dibujo5, 0.9, { stroke: "gray", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene5 = new ScrollMagic.Scene({ triggerElement: "#trigger2", duration: 550, tweenChanges: true })
            .setTween(tween5)
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller);
    </script>

</body>
</html>
