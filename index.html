<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Ejemplo ScrollMagic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!--<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap"
          rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
          rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Simonetta&display=swap"
          rel="stylesheet" />

    <link rel="stylesheet" href="./resources/css/style.css" />
    <link rel="stylesheet" href="./resources/css/animaciones.css" />
    <link rel="stylesheet" href="./resources/css/carrusel.css" />-->

    <!--<script async="" src="//www.google-analytics.com/analytics.js"></script>-->
    <script type="text/javascript" src="ScrollMagic/assets/js/lib/jquery.min.js"></script>
    <script type="text/javascript" src="ScrollMagic/assets/js/lib/greensock/TweenMax.min.js"></script>
    <script type="text/javascript" src="ScrollMagic/scrollmagic/uncompressed/ScrollMagic.js"></script>
    <script type="text/javascript" src="ScrollMagic/assets/js/lib/velocity.min.js"></script>
    <script type="text/javascript" src="ScrollMagic/scrollmagic/uncompressed/plugins/animation.velocity.js"></script>
    <script type="text/javascript" src="ScrollMagic/scrollmagic/uncompressed/plugins/animation.gsap.js"></script>
    <script type="text/javascript" src="ScrollMagic/scrollmagic/uncompressed/plugins/debug.addIndicators.js"></script>

</head>
<body>
    <div style="height:800px; border: 1px solid red;"></div>
    <div id="trigger"></div>
    <div style="height:200px; border: 1px solid red;"></div>
    <div id="animate" style="border-radius: 5px;background-color: red; text-align:center; width: 100px; height: 50px;">
        <a>TEST</a>
    </div>
    <div id="test" style="height:800px; border: 1px solid red;"></div>

    <script>
        // init controller
        var controller = new ScrollMagic.Controller();

        // build scene
        var scene = new ScrollMagic.Scene({ triggerElement: "#trigger" })
            // trigger a velocity opaticy animation
            .setVelocity("#animate", { opacity: 0 }, { duration: 400 })
            .addIndicators() // add indicators (requires plugin)
            .addTo(controller);
    </script>

    <div style="height:800px; border: 1px solid red;"></div>
    <!--<div id="trigger2"></div>-->

    <div id="animate2" style="height:50px;">
        <svg width="100%" height="3300" viewBox="0 0 250 150" preserveAspectRatio="xMinYMin meet" style="border: 2px solid blue;">
            <path style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="M 14.967093,17.436073 C 33.031684,18.486522 63.6269,13.188158 66.071142,36.449886 67.705905,52.007845 82.367438,67.168391 76.402809,81.469435 69.329282,98.429218 68.279497,61.88048 75.904544,76.502637 87.4454,98.633938 50.515402,107.49714 55.324792,122.74026 c 5.833204,18.48805 31.567903,16.4374 40.892238,31.00327 5.40676,8.44609 -7.060615,7.54985 -12.02713,7.48355"
                  id="dibujo"/>
            <path style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="m 70.926651,82.683246 c 0.595693,-0.544091 1.562946,-1.103108 2.315528,-0.571615 0.913997,0.645488 1.132676,1.898989 1.158977,2.943632"
                  id="dibujo2"
                  sodipodi:nodetypes="cc" />
            <path style="opacity:1;fill:#000000;fill-opacity:0;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:2.02348658, 4.04697316;stroke-dashoffset:0;stroke-opacity:1"
                  d="m 274.2106,323.55457 c -2.80693,-1.26849 -2.9676,-2.77823 -3.9487,-5.34721 -1.72409,-4.51446 -1.5941,-5.60116 0.23746,-6.94043 4.23345,-3.09557 9.46383,-0.24022 9.46383,5.9978 0,1.70328 -0.27622,0.82403 0.31215,0.82403 1.4209,0 0.52114,7.7082 -1.53092,5.21221 -2.19376,1.95483 -4.7865,2.96546 -4.53382,0.2536 z"
                  id="dibujo3"
                  transform="scale(0.26458333)"
                  sodipodi:nodetypes="ccsssccc" />
            <path style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="m 55.792513,123.74252 c 3.948387,-2.32493 9.936938,-3.04197 13.880452,-0.21603 5.320223,3.8125 8.004204,10.0567 12.196188,14.88156 1.758928,2.02448 4.557165,3.75551 4.659355,6.71604"
                  id="dibujo4"
                  sodipodi:nodetypes="csccc" />
            <path style="fill:none;stroke:#000000;stroke-width:2px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="m 75.637275,130.49108 c -0.989958,2.0592 -3.429016,2.73998 -5.435948,3.38765 -1.893992,0.61122 -3.905671,0.81159 -5.789373,1.4232"
                  id="dibujo5"
                  transform="matrix(0.86463396,-0.14048383,0,0.92068688,10.252659,20.119663)" />
        </svg>
    </div>
    <div id="test" style="height:3200px; border: 1px solid red;"></div>

    <script>
        function pathPrepare($el) {
            var lineLength = $el[0].getTotalLength();
            $el.css("stroke-dasharray", lineLength);
            $el.css("stroke-dashoffset", lineLength);
        }

        var $dibujo = $("path#dibujo");
        var $dibujo2 = $("path#dibujo2");
        var $dibujo3 = $("path#dibujo3");
        var $dibujo4 = $("path#dibujo4");
        var $dibujo5 = $("path#dibujo5");

        // prepare SVG
        pathPrepare($dibujo);
        pathPrepare($dibujo2);
        pathPrepare($dibujo3);
        pathPrepare($dibujo4);
        pathPrepare($dibujo5);

        // init controller
        var controller1 = new ScrollMagic.Controller();

        // build tween
        var tween = new TimelineMax()
            .add(TweenMax.to($dibujo, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            //.add(TweenMax.to("path", 0.9, { stroke: "green", ease: Linear.easeNone }), 0);			// change color during the whole thing
            .add(TweenMax.to($dibujo, 0.9, { stroke: "green", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene = new ScrollMagic.Scene({ triggerElement: "#animate2", duration: "100%", tweenChanges: true })
            .setTween(tween)
            .addIndicators() // add indicators (requires plugin)
            .addTo(controller1);

        var tween2 = new TimelineMax()
            .add(TweenMax.to($dibujo2, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            .add(TweenMax.to($dibujo2, 0.9, { stroke: "red", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene2 = new ScrollMagic.Scene({ triggerElement: "#animate2", duration: "100%", tweenChanges: true })
            .setTween(tween2)
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller1);

        var tween3 = new TimelineMax()
            .add(TweenMax.to($dibujo3, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            .add(TweenMax.to($dibujo3, 0.9, { stroke: "red", fill: "red", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene3 = new ScrollMagic.Scene({ triggerElement: "#animate2", duration: "100%", tweenChanges: true })
            .setTween(tween3)
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller1);

        var tween4 = new TimelineMax()
            .add(TweenMax.to($dibujo4, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            .add(TweenMax.to($dibujo4, 0.9, { stroke: "blue", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene4 = new ScrollMagic.Scene({ triggerElement: "#animate2", duration: "100%", tweenChanges: true })
            .setTween(tween4)
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller1);

        var tween5 = new TimelineMax()
            .add(TweenMax.to($dibujo5, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
            .add(TweenMax.to($dibujo5, 0.9, { stroke: "gray", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var scene5 = new ScrollMagic.Scene({ triggerElement: "#animate2", duration: "100%", tweenChanges: true })
            .setTween(tween5)
            //.addIndicators() // add indicators (requires plugin)
            .addTo(controller1);
    </script>

    <!--<div id="trigger3"></div>-->
    <div id="animate3" style="height:50px;">
        <svg width="100%" height="3300" viewBox="0 0 375 375" preserveAspectRatio="xMinYMin meet" style="border: 2px solid blue;">
            <path style="fill:none;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
                  d="m 26.458333,27.125001 c 38.855241,3.3296 76.861127,33.767129 114.475017,16.606284 28.20361,-12.867527 69.42072,27.178362 23.06666,29.337051 C 125.9804,74.838893 52.353228,45.06301 49.746999,82.845602 c -2.685543,38.932408 56.371321,37.188768 84.574721,37.288568 50.95882,0.18032 31.13204,43.49743 -13.44639,53.92115 -29.415543,6.8782 -115.8295965,2.52122 -93.164871,21.13422 28.355498,23.28645 76.785861,13.90359 102.313351,40.57831 40.74079,42.57172 -65.700268,49.62054 -48.433641,53.49246 29.478641,6.61038 64.116971,-9.25903 91.522921,5.47184"
                  id="dibujo6"
                  transform="translate(-22.225008,-25.40001)" />
        </svg>
    </div>
    <div id="test" style="height:3200px; border: 1px solid red;"></div>

    <script>
        function pathPrepare($el) {
            var lineLength = $el[0].getTotalLength();
            $el.css("stroke-dasharray", lineLength);
            $el.css("stroke-dashoffset", lineLength);
        }

        var $dibujo6 = $("path#dibujo6");

        // prepare SVG
        pathPrepare($dibujo6);

        // init controller
        var controller2 = new ScrollMagic.Controller();

        var tween6 = new TimelineMax()
            .add(TweenMax.to($dibujo6, 0.9, { strokeDashoffset: 0, ease: Linear.easeNone })) // draw word for 0.9
        //.add(TweenMax.to($dibujo6, 0.9, { stroke: "gray", ease: Linear.easeNone }), 0);			// change color during the whole thing

        // build scene
        var duracion = "145%";
        var scene6 = new ScrollMagic.Scene({ triggerElement: "#animate3", triggerHook: "onLeave", duration: duracion, tweenChanges: true })
            .setPin("#animate3")
            .setTween(tween6)
            .addIndicators() // add indicators (requires plugin)
            .addTo(controller2);
    </script>

</body>
</html>
